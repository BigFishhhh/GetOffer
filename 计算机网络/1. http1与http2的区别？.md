# 答案

1. http/2采取二进制格式而非文本格式
2. 完全多路复用，而非有序阻塞，只需要一个链接即可实现并行
3. header压缩，降低开销
4. server sent，即服务器可以将响应主动“推送”到客户端缓存中

# 分析

1. 什么是http/2？

   http/2（超文本传输协议），http协议的第二个版本，主要基于`SPDY`协议（Google开发的基于TCP的应用层协议，用以最小化网络延迟，提升网络速度）

2. 为什么是二进制？

   http/1是基于文本，文本的表现形式多样性的原因，文本格式解析要考虑到健壮性的场景很多，二进制只有0与1，实现方便且健壮

3. 多路复用是什么？

   HTTP/1.x 有个问题叫线端阻塞(head-of-line blocking), 它是指一个连接(connection)一次只提交一个请求的效率比较高, 多了就会变慢。 HTTP/1.1 试过用流水线(pipelining)来解决这个问题, 但是效果并不理想(数据量较大或者速度较慢的响应, 会阻碍排在他后面的请求). 此外, 由于网络媒介(intermediary )和服务器不能很好的支持流水线, 导致部署起来困难重重。而多路传输(Multiplexing)能很好的解决这些问题, 因为它能同时处理多个消息的请求和响应; 甚至可以在传输过程中将一个消息跟另外一个掺杂在一起。所以客户端只需要一个连接就能加载一个页面

   （即链接共享。在http/1中，保持长链接，请求同一个域名可以直接复用建立好的链接，不需要再经过三次握手，但是在处理并发请求时，http/1采取pipeline方式，在一个TCP连接上可以传送多个HTTP请求和响应，减少了建立和关闭连接的消耗和延迟，在HTTP1.1中默认开启Connection： keep-alive，实际上一个是串行的过程，就是要等前面的资源加载完毕，才可能加载下一个资源。http/2采用多路复用，可以用一个 tcp连接，并发的请求多个资源了，而不需要等前一个资源加载完成再加载下一个资源了。）

   

4. header头为什么需要压缩？

   HTTP1.x的header带有大量信息，而且每次都要重复发送，HTTP2.0使用encoder来减少需要传输的header大小，通讯双方各自cache一份header fields表，既避免了重复header的传输，又减小了需要传输的大小。

5. server sent的好处？

   当浏览器请求一个网页时，服务器将会发回HTML，在服务器开始发送JavaScript、图片和CSS前，服务器需要等待浏览器解析HTML和发送所有内嵌资源的请求。服务器推送服务通过“推送”那些它认为客户端将会需要的内容到客户端的缓存中，以此来避免往返的延迟。

   ![img](https://github.com/BigFishhhh/MyPic/blob/master/tech/http2_server_sent.jpeg)